#!/usr/bin/env bash

. ~/miniconda3/etc/profile.d/conda.sh

env=pycl
conda env list | grep $env >/dev/null
if (( ! $? == 0 )); then
    conda create \
        -n $env \
        -c conda-forge \
        python=3.7 pyopencl numpy flake8
fi

if [ ! $(uname -s) = "Darwin" ]; then
    ln -f -s /etc/OpenCL/vendors ~/miniconda3/envs/pycl/etc/OpenCL/vendors
fi

conda activate pycl
